{"openapi":"3.1.0","info":{"title":"FastAPI Backend","description":"Backend с авторизацией Bearer Token","version":"1.0.0"},"paths":{"/api/v1/token":{"post":{"tags":["auth"],"summary":"Login For Access Token","operationId":"login_for_access_token_api_v1_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_api_v1_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/":{"post":{"tags":["users"],"summary":"Register User","operationId":"register_user_api_v1_users__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/":{"post":{"tags":["posts"],"summary":"Create Post","operationId":"create_post_api_v1_posts__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["posts"],"summary":"Get All Posts","operationId":"get_all_posts_api_v1_posts__get","parameters":[{"name":"approval_status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approval Status"}},{"name":"post_status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post Status"}},{"name":"owner_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Owner Id"}},{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PostResponse"},"title":"Response Get All Posts Api V1 Posts  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/my":{"get":{"tags":["posts"],"summary":"Get My Posts","operationId":"get_my_posts_api_v1_posts_my_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PostResponse"},"type":"array","title":"Response Get My Posts Api V1 Posts My Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/posts/{post_id}":{"get":{"tags":["posts"],"summary":"Get Post","operationId":"get_post_api_v1_posts__post_id__get","parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["posts"],"summary":"Update Post","operationId":"update_post_api_v1_posts__post_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["posts"],"summary":"Delete Post","operationId":"delete_post_api_v1_posts__post_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/moderate/{post_id}":{"patch":{"tags":["posts"],"summary":"Moderate Post","operationId":"moderate_post_api_v1_posts_moderate__post_id__patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostModerationUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/posts/search/post":{"get":{"tags":["posts"],"summary":"Search","operationId":"search_api_v1_posts_search_post_get","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"approval_status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"enum":["pending","approved","rejected"],"title":"Approval Status"}},{"name":"post_status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"enum":["draft","published","archived"],"title":"Post Status"}},{"name":"tags","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PostResponse"},"title":"Response Search Api V1 Posts Search Post Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/":{"post":{"tags":["comments"],"summary":"Create Comment","operationId":"create_comment_api_v1_comments__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"post_id","in":"query","required":true,"schema":{"type":"integer","title":"Post Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/posts/{post_id}/":{"get":{"tags":["comments"],"summary":"Get Comments For Post","operationId":"get_comments_for_post_api_v1_comments_posts__post_id___get","parameters":[{"name":"post_id","in":"path","required":true,"schema":{"type":"integer","title":"Post Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponse"},"title":"Response Get Comments For Post Api V1 Comments Posts  Post Id   Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/comments/{comment_id}":{"get":{"tags":["comments"],"summary":"Get Comment","operationId":"get_comment_api_v1_comments__comment_id__get","parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["comments"],"summary":"Update Comment","operationId":"update_comment_api_v1_comments__comment_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["comments"],"summary":"Delete Comment","operationId":"delete_comment_api_v1_comments__comment_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"comment_id","in":"path","required":true,"schema":{"type":"integer","title":"Comment Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentInDB"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/user_profile/profiles/me":{"get":{"tags":["user_profile","UserProfile"],"summary":"Get My Profile","operationId":"get_my_profile_api_v1_user_profile_profiles_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileOut"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/user_profile/profiles/":{"put":{"tags":["user_profile","UserProfile"],"summary":"Update Profile","operationId":"update_profile_api_v1_user_profile_profiles__put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["user_profile","UserProfile"],"summary":"Create Profile","operationId":"create_profile_api_v1_user_profile_profiles__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["user_profile","UserProfile"],"summary":"Delete Profile","operationId":"delete_profile_api_v1_user_profile_profiles__delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"Body_login_for_access_token_api_v1_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_api_v1_token_post"},"CommentCreate":{"properties":{"content":{"type":"string","title":"Content"}},"type":"object","required":["content"],"title":"CommentCreate"},"CommentInDB":{"properties":{"content":{"type":"string","title":"Content"},"id":{"type":"integer","title":"Id"},"post_id":{"type":"integer","title":"Post Id"},"owner_id":{"type":"integer","title":"Owner Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["content","id","post_id","owner_id","created_at"],"title":"CommentInDB"},"CommentResponse":{"properties":{"content":{"type":"string","title":"Content"},"id":{"type":"integer","title":"Id"},"post_id":{"type":"integer","title":"Post Id"},"owner_id":{"type":"integer","title":"Owner Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"owner_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Username"}},"type":"object","required":["content","id","post_id","owner_id","created_at"],"title":"CommentResponse"},"CommentUpdate":{"properties":{"content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Content"}},"type":"object","title":"CommentUpdate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PostCreate":{"properties":{"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"post_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post Status","default":"draft"},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64"}},"type":"object","required":["title","content"],"title":"PostCreate"},"PostModerationUpdate":{"properties":{"approval_status":{"type":"string","enum":["approved","rejected"],"title":"Approval Status"}},"type":"object","required":["approval_status"],"title":"PostModerationUpdate"},"PostResponse":{"properties":{"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"post_status":{"type":"string","title":"Post Status"},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64"},"id":{"type":"integer","title":"Id"},"owner_id":{"type":"integer","title":"Owner Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"approved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approved At"},"approval_status":{"type":"string","title":"Approval Status"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"}},"type":"object","required":["title","content","post_status","id","owner_id","created_at","approval_status"],"title":"PostResponse"},"PostUpdate":{"properties":{"title":{"type":"string","title":"Title"},"content":{"type":"string","title":"Content"},"tags":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tags"},"post_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Post Status"},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64"},"approval_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approval Status"}},"type":"object","required":["title","content"],"title":"PostUpdate"},"UserCreate":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","email","password"],"title":"UserCreate"},"UserProfileCreate":{"properties":{"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"interests":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interests"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"avatar_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Base64"}},"type":"object","title":"UserProfileCreate"},"UserProfileOut":{"properties":{"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"interests":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interests"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"avatar_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Avatar Url"}},"type":"object","required":["id","user_id"],"title":"UserProfileOut"},"UserProfileUpdate":{"properties":{"bio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bio"},"interests":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interests"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"avatar_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Avatar Url"}},"type":"object","title":"UserProfileUpdate"},"UserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","title":"Email"},"role":{"type":"string","title":"Role"}},"type":"object","required":["id","username","email","role"],"title":"UserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/token"}}}}}}